# Public domain notice for all NCBI EDirect scripts is located at:
# https://www.ncbi.nlm.nih.gov/books/NBK179288/#chapter6.Public_Domain_Notice

# index-peptide

# variable contains peptide-database-specific xtract indexing instructions
read -r -d '' idxtxt <<- EOS
xtract -set IdxDocumentSet -rec IdxDocument \
  -pattern PeptInfo -UID PeptInfo/UID \
    -wrp IdxUid -element "&UID" -clr -rst -tab "" \
    -group PeptInfo -pkg IdxSearchFields \
      -block PeptInfo -wrp UID -pad "&UID" \
      -block Accession -wrp ACCN -element Accession \
      -block Product -wrp PROD -element Product \
      -block Organism -wrp ORGN -element Organism -wrp DIV -element @div \
      -block Sequence -wrp PENT -pentamers Sequence
EOS

IncrementalIndex "${idxtxt}"
